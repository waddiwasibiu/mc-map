<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baka 村结构坐标库</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    
    <!-- Tailwind 配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#10B981',
                        accent: '#F59E0B',
                        dark: '#1E293B',
                        server1: '#3B82F6',
                        server2: '#10B981'
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            }
            .structure-image {
                background-color: #f0f0f0;
                background-size: cover;
                background-position: center;
            }
            .chart-container {
                transition: all 0.2s ease;
            }
            .chart-container:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            }
            .chart-modal-backdrop {
                background-color: rgba(0, 0, 0, 0.7);
                backdrop-filter: blur(4px);
            }
            .chart-modal-content {
                max-height: 80vh;
                width: 90vw;
                max-width: 800px;
            }
        }
    </style>


    <!-- 引入 Gitment CSS -->
    <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">


</head>
<body class="bg-gray-50 font-inter">
    <!-- 导航栏 -->
    <header class="bg-white shadow-md fixed top-0 left-0 right-0 z-40 transition-all duration-300 py-4">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <i class="fa fa-map-o text-primary text-2xl"></i>
                    <h1 class="text-xl font-bold text-dark">Baka 村 <span class="text-primary">结构坐标</span></h1>
                </div>
                
                <nav class="hidden md:flex space-x-6">
                    <a href="#home" class="text-gray-700 hover:text-primary transition-colors">首页</a>
                    <a href="#structures" class="text-gray-700 hover:text-primary transition-colors">结构列表</a>
                    <a href="#add-structure" class="text-gray-700 hover:text-primary transition-colors">添加结构</a>
                    <a href="#about" class="text-gray-700 hover:text-primary transition-colors">关于我们</a>
                </nav>
                
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <input type="text" id="searchInput" placeholder="搜索结构或坐标..." class="pl-10 pr-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary">
                        <i class="fa fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                    
                    <button class="md:hidden text-gray-700 focus:outline-none" id="mobileMenuBtn">
                        <i class="fa fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
            
            <!-- 移动端菜单 -->
            <div id="mobileMenu" class="hidden md:hidden mt-4 pb-4">
                <a href="#home" class="block py-2 text-gray-700 hover:text-primary transition-colors">首页</a>
                <a href="#structures" class="block py-2 text-gray-700 hover:text-primary transition-colors">结构列表</a>
                <a href="#add-structure" class="block py-2 text-gray-700 hover:text-primary transition-colors">添加结构</a>
                <a href="#about" class="block py-2 text-gray-700 hover:text-primary transition-colors">关于我们</a>
            </div>
        </div>
    </header>

    <!-- 主内容区 -->
    <main class="container mx-auto px-4 pt-24 pb-16">
        <!-- 欢迎部分 -->
        <section id="home" class="mb-12">
            <div class="bg-gradient-to-r from-primary/10 to-secondary/10 rounded-2xl p-8 shadow-lg">
                <div class="flex flex-col md:flex-row items-center">
                    <div class="md:w-1/2 mb-6 md:mb-0">
                        <h2 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold text-dark mb-4">欢迎来到 Baka 村结构坐标库</h2>
                        <p class="text-gray-600 mb-6 text-lg">探索并分享《我的世界》中各种独特结构的坐标，让冒险更加便捷！</p>
                        <div class="flex flex-wrap gap-4">
                            <a href="#structures" class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors shadow-lg shadow-primary/20 flex items-center">
                                <i class="fa fa-map-marker mr-2"></i> 浏览结构
                            </a>
                            <a href="#add-structure" class="px-6 py-3 bg-white text-primary border border-primary rounded-lg hover:bg-primary/5 transition-colors flex items-center">
                                <i class="fa fa-plus mr-2"></i> 添加新结构
                            </a>
                        </div>
                    </div>
                    <div class="md:w-1/2 flex justify-center">
                        <div class="structure-image w-full h-64 rounded-xl" style="background-image: url('1.png')"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 服务器选择和筛选 -->
        <section class="mb-8">
            <div class="bg-white rounded-xl shadow-md p-6">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                    <div class="flex items-center gap-4">
                        <label for="serverSelector" class="font-medium text-gray-700">服务器:</label>
                        <select id="serverSelector" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary">
                            <option value="server1">一区</option>
                            <option value="server2">二区</option>
                        </select>
                    </div>
                    
                    <div class="flex items-center gap-4">
                        <label for="sortSelect" class="font-medium text-gray-700">排序方式:</label>
                        <select id="sortSelect" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary">
                            <option value="nameAsc">名称 (升序)</option>
                            <option value="nameDesc">名称 (降序)</option>
                            <option value="type">结构类型</option>
                            <option value="coordinateCount">坐标数量</option>
                        </select>
                    </div>
                </div>
            </div>
        </section>

        <!-- 添加结构部分 -->
        <section id="add-structure" class="mb-12 bg-white rounded-xl shadow-md p-6">
            <h2 class="text-2xl font-bold text-dark mb-6">添加新结构</h2>
            <form id="addStructureForm">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">结构名称</label>
                        <input type="text" id="structureName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary" placeholder="例如：海底神殿" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">结构类型</label>
                        <select id="structureType" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary" required>
                            <option value="">选择类型</option>
                            <option value="遗迹">遗迹</option>
                            <option value="自然奇观">自然奇观</option>
                            <option value="村庄">村庄</option>
                            <option value="要塞">要塞</option>
                            <option value="其他">其他</option>
                        </select>
                    </div>
                    <div class="md:col-span-2">
                        <label class="block text-sm font-medium text-gray-700 mb-2">结构描述</label>
                        <textarea id="structureDescription" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary" placeholder="描述这个结构的特征和重要性..." required></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">图片编号</label>
                        <div class="flex items-center">
                            <span class="px-4 py-3 bg-gray-100 rounded-l-lg border border-r-0 border-gray-300">img</span>
                            <input type="number" id="structureImage" min="2" max="20" class="w-full px-4 py-3 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-primary/50 focus:border-primary" placeholder="2-20" required>
                            <span class="ml-2 text-gray-500">.png</span>
                        </div>
                        <p class="text-xs text-gray-500 mt-2">输入2-20之间的数字，对应本地图片文件 (如输入"2"对应"2.png")</p>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">结构图标</label>
                        <select id="structureIcon" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary" required>
                            <option value="">选择图标</option>
                            <option value="fa-fort-awesome">堡垒</option>
                            <option value="fa-tree">丛林</option>
                            <option value="fa-sun-o">沙漠</option>
                            <option value="fa-tornado">旋风</option>
                            <option value="fa-cloud">云朵</option>
                            <option value="fa-home">村庄</option>
                            <option value="fa-diamond">宝藏</option>
                            <option value="fa-ship">沉船</option>
                        </select>
                    </div>
                </div>
                <div class="flex justify-end gap-4">
                    <button type="reset" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors">
                        重置表单
                    </button>
                    <button type="submit" class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors shadow-lg shadow-primary/20 flex items-center">
                        <i class="fa fa-plus mr-2"></i> 添加结构
                    </button>
                </div>
            </form>
        </section>

        <!-- 结构列表 -->
        <section id="structures" class="space-y-6">
            <!-- 一区内容 -->
            <div id="server1Content">
                <!-- 结构卡片将通过JavaScript动态生成 -->
            </div>
            
            <!-- 二区内容 -->
            <div id="server2Content" class="hidden">
                <!-- 结构卡片将通过JavaScript动态生成 -->
            </div>
        </section>
    </main>

    <!-- 关于我们 -->
    <section id="about" class="bg-white py-12">
        <div class="container mx-auto px-4">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-dark mb-4">关于 Baka 村</h2>
                <p class="text-gray-600 max-w-3xl mx-auto">我们是一群热爱《我的世界》的玩家，致力于收集和分享游戏中各种独特结构的坐标，让大家的游戏体验更加丰富多彩。</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-gray-50 rounded-xl p-6 shadow-md">
                    <div class="text-primary text-3xl mb-4">
                        <i class="fa fa-map-signs"></i>
                    </div>
                    <h3 class="text-xl font-bold text-dark mb-3">结构坐标库</h3>
                    <p class="text-gray-600">我们收集了各种稀有和独特的结构坐标，包括遗迹、自然奇观和特殊地点，让你无需探索即可轻松找到它们。</p>
                </div>
                
                <div class="bg-gray-50 rounded-xl p-6 shadow-md">
                    <div class="text-primary text-3xl mb-4">
                        <i class="fa fa-users"></i>
                    </div>
                    <h3 class="text-xl font-bold text-dark mb-3">社区共享</h3>
                    <p class="text-gray-600">Baka 村是一个开放的社区，所有玩家都可以贡献自己发现的坐标，与其他玩家分享游戏中的精彩发现。</p>
                </div>
                
                <div class="bg-gray-50 rounded-xl p-6 shadow-md">
                    <div class="text-primary text-3xl mb-4">
                        <i class="fa fa-gamepad"></i>
                    </div>
                    <h3 class="text-xl font-bold text-dark mb-3">游戏指南</h3>
                    <p class="text-gray-600">除了坐标库，我们还提供各种游戏攻略和指南，帮助你更好地探索《我的世界》的奇妙世界。</p>
                </div>
            </div>
            
            <div class="mt-12 text-center">
                <h3 class="text-2xl font-bold text-dark mb-6">加入我们</h3>
                <div class="flex flex-wrap justify-center gap-4">
                    <a href="#" class="px-6 py-3 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition-colors shadow-lg shadow-pink-200 flex items-center">
                        <i class="fa fa-youtube-play mr-2"></i> 哔哩哔哩
                    </a>
                    <a href="#" class="px-6 py-3 bg-white text-primary border border-primary rounded-lg hover:bg-primary/5 transition-colors flex items-center">
                        <i class="fa fa-qq mr-2"></i> QQ 群
                    </a>
                    <a href="#" class="px-6 py-3 bg-dark text-white rounded-lg hover:bg-dark/90 transition-colors flex items-center">
                        <i class="fa fa-github mr-2"></i> GitHub
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- 坐标分布大图模态框 -->
    <div id="chartModal" class="fixed inset-0 z-50 hidden items-center justify-center chart-modal-backdrop">
        <div class="bg-white rounded-xl shadow-2xl p-6 chart-modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-dark" id="modalChartTitle">坐标分布详情</h3>
                <button id="closeChartModal" class="text-gray-500 hover:text-gray-700">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            <div class="relative h-[calc(80vh-80px)]">
                <canvas id="modalChart" class="w-full h-full"></canvas>
            </div>
        </div>
    </div>


    <!-- 评论容器 -->
    <div id="gitment-container"></div>

    <footer class="bg-white shadow-md py-6">
        <div class="container mx-auto px-4 text-center text-gray-600">
            <p>&copy; 2025 Baka 村结构坐标库. 保留所有权利.</p>
        </div>
    </footer>

    <!-- 引入外部 JavaScript 文件 -->
    <script src="script.js"></script>
    <!-- 引入 Gitment JavaScript -->
    <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
    <script>
        const gitment = new Gitment({
            id: 'baka村', // 可选，默认为 location.href
            owner: 'waddiwasibiu', // 你的 GitHub 用户名
            repo: 'mc-map', // 存储评论的仓库名称
            oauth: {
                client_id: 'Ov23lir8R3Vh9Zzynyvy', // 你的 client_id
                client_secret: 'b7b652dc0032f772142895a06b45e0fe66d197c2', // 你的 client_secret
            },
        });
        gitment.render('gitment-container');
    </script>
</body>
</html>